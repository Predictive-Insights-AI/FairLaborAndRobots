MergedSurvey %>%
ggplot(aes(SurveyItemDescription,SurveyResponseValueInv, fill = response_label)) +
geom_col() +
coord_flip() +
ggtitle("Overall Survey Responses") +
xlab("Number of Respondents") +
ylab("Question Topic") +
scale_fill_manual(values = c("dodgerblue", "coral", "grey", "green"))
#All patients
MergedSurvey %>%
ggplot(aes(SurveyItemDescription,SurveyResponseValueInv, fill = response_label)) +
geom_col() +
coord_flip() +
ggtitle("Overall Survey Responses") +
xlab("Number of Respondents") +
ylab("Question Topic") +
scale_fill_manual(values = c("dodgerblue", "coral", "grey", "cadetblue4")) +
theme_light()
#All patients
MergedSurvey %>%
ggplot(aes(SurveyItemDescription,SurveyResponseValueInv, fill = response_label)) +
geom_col() +
coord_flip() +
ggtitle("Overall Survey Responses") +
xlab("Number of Respondents") +
ylab("Question Topic") +
scale_fill_manual(values = c("dodgerblue", "coral", "dodgerblue4", "cadetblue4")) +
theme_light()
#All patients
MergedSurvey %>%
ggplot(aes(SurveyItemDescription,SurveyResponseValueInv, fill = response_label)) +
geom_col() +
coord_flip() +
ggtitle("Overall Survey Responses") +
xlab("Number of Respondents") +
ylab("Question Topic") +
scale_fill_manual(values = c("dodgerblue", "coral", "grey", "dodgerblue4")) +
theme_light()
#All patients
MergedSurvey %>%
ggplot(aes(SurveyItemDescription,SurveyResponseValueInv, fill = response_label)) +
geom_col() +
coord_flip() +
ggtitle("Overall Survey Responses") +
xlab("Number of Respondents") +
ylab("Question Topic") +
scale_fill_manual(values = c("dodgerblue", "coral", "grey", "dodgerblue4")) +
guides(fill=guide_legend(title="Response Level")) +
theme_light()
#All patients
MergedSurvey %>%
ggplot(aes(SurveyItemDescription,SurveyResponseValueInv, fill = response_label)) +
geom_col() +
coord_flip() +
ggtitle("Overall Survey Responses") +
xlab("Number of Respondents") +
ylab("Question Topic") +
scale_fill_manual(values = c("dodgerblue", "coral", "grey", "dodgerblue4")) +
guides(fill=guide_legend(title="Response Level")) +
theme_light() +
theme(legend.position="top")
#All patients
MergedSurvey %>%
filter(SurveyItemDescription == "Quality of care") %>%
ggplot(aes(SurveyItemDescription,SurveyResponseValueInv, fill = response_label)) +
geom_col() +
coord_flip() +
ggtitle("Overall Survey Responses") +
xlab("Number of Respondents") +
ylab("Question Topic") +
scale_fill_manual(values = c("dodgerblue", "coral", "grey", "dodgerblue4")) +
guides(fill=guide_legend(title="Response Level")) +
theme_light() +
theme(legend.position="top")
glimpse(MergedSurvey)
summary(MergedSurvey)
MergedSurvey %>%
filter(SurveyItemDescription == "Quality of care") %>%
ggplot(aes(SurveyItemDescription,SurveyResponseValueInv, fill = response_label)) +
geom_col()
MergedSurvey %>%
filter(SurveyItemDescription == "Quality of care") %>%
ggplot(aes(SurveyItemDescription,SurveyResponseValue, fill = response_label)) +
geom_col()
MergedSurvey %>%
# filter(SurveyItemDescription == "Quality of care") %>%
ggplot(aes(SurveyItemDescription,SurveyResponseValue, fill = response_label)) +
geom_col()
MergedSurvey %>%
# filter(SurveyItemDescription == "Quality of care") %>%
ggplot(aes(SurveyItemDescription,SurveyResponseValueInv, fill = response_label)) +
geom_col()
MergedSurvey %>%
# filter(SurveyItemDescription == "Quality of care") %>%
ggplot(aes(SurveyItemDescription,SurveyResponseValueInv, fill = response_label, order = response_label)) +
geom_col()
MergedSurvey %>%
# filter(SurveyItemDescription == "Quality of care") %>%
ggplot(aes(SurveyItemDescription,SurveyResponseValueInv, fill = response_label, order = response_label)) +
geom_col() +
MergedSurvey %>%
# filter(SurveyItemDescription == "Quality of care") %>%
ggplot(aes(SurveyItemDescription,SurveyResponseValueInv, fill = response_label, order = response_label)) +
geom_col() +
coord_flip()
MergedSurvey %>%
# filter(SurveyItemDescription == "Quality of care") %>%
arrange(response_label) %>%
ggplot(aes(SurveyItemDescription,SurveyResponseValueInv, fill = response_label)) +
geom_col()
MergedSurvey %>%
# filter(SurveyItemDescription == "Quality of care") %>%
arrange(response_label) %>%
ggplot(aes(SurveyItemDescription,SurveyResponseValueInv, fill = response_label)) +
geom_col() +
coord_flip()
?position_stack
MergedSurvey %>%
# filter(SurveyItemDescription == "Quality of care") %>%
arrange(response_label) %>%
ggplot(aes(SurveyItemDescription,SurveyResponseValueInv, fill = response_label)) +
geom_col(position = position_stack()) +
coord_flip()
MergedSurvey %>%
# filter(SurveyItemDescription == "Quality of care") %>%
arrange(response_label) %>%
ggplot(aes(SurveyItemDescription,SurveyResponseValueInv, fill = response_label)) +
geom_col(position = position_stack(reverse = T)) +
coord_flip()
#All patients
MergedSurvey %>%
# filter(SurveyItemDescription == "Quality of care") %>%
arrange(response_label) %>%
ggplot(aes(SurveyItemDescription,SurveyResponseValueInv, fill = response_label)) +
geom_col(position = position_stack(reverse = TRUE)) +
coord_flip() +
ggtitle("Overall Survey Responses") +
xlab("Number of Respondents") +
ylab("Question Topic") +
scale_fill_manual(values = c("dodgerblue", "coral", "grey", "dodgerblue4")) +
guides(fill=guide_legend(title="Response Level")) +
theme_light() +
theme(legend.position="top")
#All patients
MergedSurvey %>%
# filter(SurveyItemDescription == "Quality of care") %>%
arrange(response_label) %>%
ggplot(aes(SurveyItemDescription,SurveyResponseValueInv, fill = response_label)) +
geom_col(position = position_stack(reverse = TRUE)) +
coord_flip() +
ggtitle("Overall Survey Responses") +
xlab("Number of Respondents") +
ylab("Question Topic") +
scale_fill_manual(values = c("dodgerblue", "dodgerblue4", "grey","coral" )) +
guides(fill=guide_legend(title="Response Level")) +
theme_light() +
theme(legend.position="top")
MergedSurvey %>%
filter(SurveyItemDescription == "Quality of care") %>%
arrange(response_label) %>%
ggplot(aes(SurveyItemDescription,SurveyResponseValueInv, fill = response_label)) +
geom_col(position = position_stack(reverse = TRUE)) +
coord_flip() +
ggtitle("Overall Survey Responses") +
xlab("Number of Respondents") +
ylab("Question Topic") +
scale_fill_manual(values = c("dodgerblue", "dodgerblue4", "grey","coral" )) +
guides(fill=guide_legend(title="Response Level")) +
theme_light() +
theme(legend.position="top")
#All patients
MergedSurvey %>%
# filter(SurveyItemDescription == "Quality of care") %>%
arrange(response_label) %>%
ggplot(aes(SurveyItemDescription,SurveyResponseValueInv, fill = response_label)) +
geom_col(position = position_stack(reverse = TRUE)) +
coord_flip() +
ggtitle("Overall Survey Responses") +
xlab("Number of Respondents") +
ylab("Question Topic") +
scale_fill_manual(values = c("dodgerblue", "dodgerblue4", "grey","coral" )) +
guides(fill=guide_legend(title="Response Level")) +
theme_light() +
theme(legend.position="top")
#All patients
MergedSurvey %>%
# filter(SurveyItemDescription == "Quality of care") %>%
arrange(response_label) %>%
ggplot(aes(SurveyItemDescription,SurveyResponseValueInv, fill = response_label)) +
geom_col(position = position_stack(reverse = TRUE)) +
coord_flip() +
ggtitle("Overall Survey Responses") +
xlab("Number of Respondents") +
ylab("Question Topic") +
scale_fill_manual(values = c("dodgerblue", "dodgerblue4", "grey","coral" )) +
guides(fill=guide_legend(title="Response Level")) +
theme_light() +
theme(legend.position="top") +
scale_y_continuous(breaks = seq(-30000, 30000, by=500))
#All patients
MergedSurvey %>%
# filter(SurveyItemDescription == "Quality of care") %>%
arrange(response_label) %>%
ggplot(aes(SurveyItemDescription,SurveyResponseValueInv, fill = response_label)) +
geom_col(position = position_stack(reverse = TRUE)) +
coord_flip() +
ggtitle("Overall Survey Responses") +
xlab("Number of Respondents") +
ylab("Question Topic") +
scale_fill_manual(values = c("dodgerblue", "dodgerblue4", "grey","coral" )) +
guides(fill=guide_legend(title="Response Level")) +
theme_light() +
theme(legend.position="top") +
scale_y_continuous(breaks = seq(-30000, 30000, by=5000))
View(MergedSurvey)
MergedSurvey <- MergedSurvey %>%
mutate(Age = interval(PatientBirthDate, mdy('1-1-2016')) / years(1),
AgeGroup = case_when(
Age < 18 ~ 'Age1: < 18',
Age <= 39 & Age >= 18 ~ 'Age2: 18-39',
Age <= 64 & Age >= 40 ~ 'Age3: 40-64',
Age >= 65 ~ 'Age4: 65+'),
TopBoxFlag = case_when(
SurveyResponseValue == TopBoxCode ~ 1,
SurveyResponseValue == TopBoxCode & (!is.na(SurveyResponseValue) & !is.na(TopBoxCode)) ~ 0
#implied "ELSE" is null
))
MergedSurvey %>% transmute(TopBoxFlag = as.factor(TopBoxFlag)) %>% summary()
#Patients over 40
MergedSurvey %>%
filter(age> 40) %>%
arrange(response_label) %>%
ggplot(aes(SurveyItemDescription,SurveyResponseValueInv, fill = response_label)) +
geom_col(position = position_stack(reverse = TRUE)) +
coord_flip() +
ggtitle("Patients > 40 Survey Responses") +
xlab("Number of Respondents") +
ylab("Question Topic") +
scale_fill_manual(values = c("dodgerblue", "dodgerblue4", "grey","coral" )) +
guides(fill=guide_legend(title="Response Level")) +
theme_light() +
theme(legend.position="top") +
scale_y_continuous(breaks = seq(-30000, 30000, by=5000))
#Patients over 40
MergedSurvey %>%
filter(Age> 40) %>%
arrange(response_label) %>%
ggplot(aes(SurveyItemDescription,SurveyResponseValueInv, fill = response_label)) +
geom_col(position = position_stack(reverse = TRUE)) +
coord_flip() +
ggtitle("Patients > 40 Survey Responses") +
xlab("Number of Respondents") +
ylab("Question Topic") +
scale_fill_manual(values = c("dodgerblue", "dodgerblue4", "grey","coral" )) +
guides(fill=guide_legend(title="Response Level")) +
theme_light() +
theme(legend.position="top") +
scale_y_continuous(breaks = seq(-30000, 30000, by=5000))
MergedSurvey %>%
filter(Age> 40) %>%
arrange(response_label) %>%
ggplot(aes(SurveyItemDescription,SurveyResponseValueInv, fill = response_label)) +
geom_col(position = position_stack(reverse = TRUE)) +
coord_flip() +
ggtitle("Patients Over the Age of 40") +
xlab("Number of Respondents") +
ylab("Question Topic") +
scale_fill_manual(values = c("dodgerblue", "dodgerblue4", "grey","coral" )) +
guides(fill=guide_legend(title="Response Level")) +
theme_light() +
theme(legend.position="top") +
scale_y_continuous(breaks = seq(-30000, 30000, by=5000))
MergedSurvey %>%
filter(Age < 40) %>%
arrange(response_label) %>%
ggplot(aes(SurveyItemDescription,SurveyResponseValueInv, fill = response_label)) +
geom_col(position = position_stack(reverse = TRUE)) +
coord_flip() +
ggtitle("Patients Under the Age of 40") +
xlab("Number of Respondents") +
ylab("Question Topic") +
scale_fill_manual(values = c("dodgerblue", "dodgerblue4", "grey","coral" )) +
guides(fill=guide_legend(title="Response Level")) +
theme_light() +
theme(legend.position="top") +
scale_y_continuous(breaks = seq(-30000, 30000, by=5000))
MergedSurvey %>%
filter(Age < 40) %>%
arrange(response_label) %>%
ggplot(aes(SurveyItemDescription,SurveyResponseValueInv, fill = response_label)) +
geom_col(position = position_stack(reverse = TRUE)) +
coord_flip() +
ggtitle("Patients Under the Age of 40") +
xlab("Number of Respondents") +
ylab("Question Topic") +
scale_fill_manual(values = c("dodgerblue", "dodgerblue4", "grey","coral" )) +
guides(fill=guide_legend(title="Response Level")) +
theme_light() +
theme(legend.position="top") +
scale_y_continuous(breaks = seq(-30000, 30000, by=1000))
library(ggpubr)
p1 <- MergedSurvey %>%
filter(Age> 40) %>%
arrange(response_label) %>%
ggplot(aes(SurveyItemDescription,SurveyResponseValueInv, fill = response_label)) +
geom_col(position = position_stack(reverse = TRUE)) +
coord_flip() +
ggtitle("Patients Over the Age of 40") +
xlab("Number of Respondents") +
ylab("Question Topic") +
scale_fill_manual(values = c("dodgerblue", "dodgerblue4", "grey","coral" )) +
guides(fill=guide_legend(title="Response Level")) +
theme_light() +
theme(legend.position="top") +
scale_y_continuous(breaks = seq(-30000, 30000, by=5000))
p2 <- MergedSurvey %>%
filter(Age < 40) %>%
arrange(response_label) %>%
ggplot(aes(SurveyItemDescription,SurveyResponseValueInv, fill = response_label)) +
geom_col(position = position_stack(reverse = TRUE)) +
coord_flip() +
ggtitle("Patients Under the Age of 40") +
xlab("Number of Respondents") +
ylab("Question Topic") +
scale_fill_manual(values = c("dodgerblue", "dodgerblue4", "grey","coral" )) +
guides(fill=guide_legend(title="Response Level")) +
theme_light() +
theme(legend.position="top") +
scale_y_continuous(breaks = seq(-30000, 30000, by=1000)) +
theme(axis.title.x=element_blank(),
axis.text.x=element_blank(),
axis.ticks.x=element_blank())
ggarrange(p1, p2)
p1 <- MergedSurvey %>%
filter(Age> 40) %>%
arrange(response_label) %>%
ggplot(aes(SurveyItemDescription,SurveyResponseValueInv, fill = response_label)) +
geom_col(position = position_stack(reverse = TRUE)) +
coord_flip() +
ggtitle("Patients Over the Age of 40") +
xlab("Number of Respondents") +
ylab("Question Topic") +
scale_fill_manual(values = c("dodgerblue", "dodgerblue4", "grey","coral" )) +
guides(fill=guide_legend(title="Response Level")) +
theme_light() +
theme(legend.position="top") +
scale_y_continuous(breaks = seq(-30000, 30000, by=10000))
p2 <- MergedSurvey %>%
filter(Age < 40) %>%
arrange(response_label) %>%
ggplot(aes(SurveyItemDescription,SurveyResponseValueInv, fill = response_label)) +
geom_col(position = position_stack(reverse = TRUE)) +
coord_flip() +
ggtitle("Patients Under the Age of 40") +
xlab("Number of Respondents") +
ylab("Question Topic") +
scale_fill_manual(values = c("dodgerblue", "dodgerblue4", "grey","coral" )) +
guides(fill=guide_legend(title="Response Level")) +
theme_light() +
theme(legend.position="top") +
scale_y_continuous(breaks = seq(-30000, 30000, by=1000)) +
theme(axis.title.x=element_blank(),
axis.text.x=element_blank(),
axis.ticks.x=element_blank())
ggarrange(p1, p2)
p1 <- MergedSurvey %>%
filter(Age> 40) %>%
arrange(response_label) %>%
ggplot(aes(SurveyItemDescription,SurveyResponseValueInv, fill = response_label, width = 0.6)) +
geom_col(position = position_stack(reverse = TRUE)) +
coord_flip() +
ggtitle("Patients Over the Age of 40") +
xlab("Number of Respondents") +
ylab("Question Topic") +
scale_fill_manual(values = c("dodgerblue", "dodgerblue4", "grey","coral" )) +
guides(fill=guide_legend(title="Response Level")) +
theme_light() +
theme(legend.position="top") +
scale_y_continuous(breaks = seq(-30000, 30000, by=10000))
p2 <- MergedSurvey %>%
filter(Age < 40) %>%
arrange(response_label) %>%
ggplot(aes(SurveyItemDescription,SurveyResponseValueInv, fill = response_label, width = 0.6)) +
geom_col(position = position_stack(reverse = TRUE)) +
coord_flip() +
ggtitle("Patients Under the Age of 40") +
xlab("Number of Respondents") +
ylab("Question Topic") +
scale_fill_manual(values = c("dodgerblue", "dodgerblue4", "grey","coral" )) +
guides(fill=guide_legend(title="Response Level")) +
theme_light() +
theme(legend.position="top") +
scale_y_continuous(breaks = seq(-30000, 30000, by=1000)) +
theme(axis.title.x=element_blank(),
axis.text.x=element_blank(),
axis.ticks.x=element_blank())
ggarrange(p1, p2)
p2 <- MergedSurvey %>%
filter(Age < 40) %>%
arrange(response_label) %>%
ggplot(aes(SurveyItemDescription,SurveyResponseValueInv, fill = response_label, width = 0.6)) +
geom_col(position = position_stack(reverse = TRUE)) +
coord_flip() +
ggtitle("Patients Under the Age of 40") +
xlab("Number of Respondents") +
ylab("Question Topic") +
scale_fill_manual(values = c("dodgerblue", "dodgerblue4", "grey","coral" )) +
guides(fill=guide_legend(title="Response Level")) +
theme_light() +
theme(legend.position="top") +
scale_y_continuous(breaks = seq(-30000, 30000, by=1000)) +
theme(axis.title.y=element_blank(),
axis.text.y=element_blank(),
axis.ticks.y=element_blank())
ggarrange(p1, p2)
p1 <- MergedSurvey %>%
filter(Age> 40) %>%
arrange(response_label) %>%
ggplot(aes(SurveyItemDescription,SurveyResponseValueInv, fill = response_label, width = 0.6)) +
geom_col(position = position_stack(reverse = TRUE)) +
coord_flip() +
ggtitle("Patients Over the Age of 40") +
xlab("Number of Respondents") +
ylab("Question Topic") +
scale_fill_manual(values = c("dodgerblue", "dodgerblue4", "grey","coral" )) +
guides(fill=guide_legend(title="Response Level")) +
theme_light() +
theme(legend.position="top") +
scale_y_continuous(breaks = seq(-30000, 30000, by=10000))
p2 <- MergedSurvey %>%
filter(Age < 40) %>%
arrange(response_label) %>%
ggplot(aes(SurveyItemDescription,SurveyResponseValueInv, fill = response_label, width = 0.6)) +
geom_col(position = position_stack(reverse = TRUE)) +
coord_flip() +
ggtitle("Patients Under the Age of 40") +
xlab("Number of Respondents") +
ylab("Question Topic") +
scale_fill_manual(values = c("dodgerblue", "dodgerblue4", "grey","coral" )) +
guides(fill=guide_legend(title="Response Level")) +
theme_light() +
theme(legend.position="top") +
scale_y_continuous(breaks = seq(-30000, 30000, by=1000)) +
theme(axis.title.y=element_blank(),
axis.text.y=element_blank(),
axis.ticks.y=element_blank())
ggarrange(p2, p1)
p1
p2
p2 <- MergedSurvey %>%
filter(ClientKey == 1) %>%
arrange(response_label) %>%
ggplot(aes(SurveyItemDescription,SurveyResponseValueInv, fill = response_label, width = 0.6)) +
geom_col(position = position_stack(reverse = TRUE)) +
coord_flip() +
ggtitle("Patients Under the Age of 40") +
xlab("Number of Respondents") +
ylab("Question Topic") +
scale_fill_manual(values = c("dodgerblue", "dodgerblue4", "grey","coral" )) +
guides(fill=guide_legend(title="Response Level")) +
theme_light() +
theme(legend.position="top") +
scale_y_continuous(breaks = seq(-30000, 30000, by=1000)) +
theme(axis.title.y=element_blank(),
axis.text.y=element_blank(),
axis.ticks.y=element_blank())
ggarrange(p2, p1)
ggarrange(p2, p1)
p1
MergedSurvey %>%
filter(ClientKey == 1) %>%
arrange(response_label) %>%
ggplot(aes(SurveyItemDescription,SurveyResponseValueInv, fill = response_label, width = 0.6)) +
geom_col(position = position_stack(reverse = TRUE)) +
coord_flip() +
ggtitle("Patients Under the Age of 40") +
xlab("Number of Respondents") +
ylab("Question Topic") +
scale_fill_manual(values = c("dodgerblue", "dodgerblue4", "grey","coral" )) +
guides(fill=guide_legend(title="Response Level")) +
theme_light() +
theme(legend.position="top") +
scale_y_continuous(breaks = seq(-30000, 30000, by=1000))
MergedSurvey %>%
filter(ClientKey == 4) %>%
arrange(response_label) %>%
ggplot(aes(SurveyItemDescription,SurveyResponseValueInv, fill = response_label, width = 0.6)) +
geom_col(position = position_stack(reverse = TRUE)) +
coord_flip() +
ggtitle("Patients Under the Age of 40") +
xlab("Number of Respondents") +
ylab("Question Topic") +
scale_fill_manual(values = c("dodgerblue", "dodgerblue4", "grey","coral" )) +
guides(fill=guide_legend(title="Response Level")) +
theme_light() +
theme(legend.position="top") +
scale_y_continuous(breaks = seq(-30000, 30000, by=1000))
MergedSurvey %>%
filter(Age> 40) %>%
arrange(response_label) %>%
ggplot(aes(SurveyItemDescription,SurveyResponseValueInv, fill = response_label, width = 0.6)) +
geom_col(position = position_stack(reverse = TRUE)) +
coord_flip() +
ggtitle("Benchmark: All Patients Over the Age of 40") +
xlab("Number of Respondents") +
ylab("Question Topic") +
scale_fill_manual(values = c("dodgerblue", "dodgerblue4", "grey","coral" )) +
guides(fill=guide_legend(title="Response Level")) +
theme_light() +
theme(legend.position="top") +
scale_y_continuous(breaks = seq(-30000, 30000, by=10000))
View(SurveyMatrix)
